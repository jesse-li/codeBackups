function xAjax(t){if(this===window)return new xAjax(t);var t=t||{};this.type=t.type,this.data=t.data,this.url=t.url,this.success=t.success,this.fail=t.fail,this.dataType=t.dataType,this.cache=t.cache===!1?!1:!0,this.init()}function lazyLoad(t){var t=t||{};this.obj=t.obj,this.scope=t.scope||0,this.init()}function touchControl(t){t.eventsBind("touchstart",function(t){var e=t||window.event;startY=e.touches[0].clientY,e.stopPropagation()}),t.eventsBind("touchmove",function(t){var e=t||window.event,n=this;e.stopPropagation(),moveY=e.touches[0].clientY,startY-moveY>0&&n.scrollTop+n.offsetHeight>=n.scrollHeight-20&&e.preventDefault(),0>startY-moveY&&n.scrollTop<=20&&e.preventDefault()})}!function(){var t={index:0},e=function(t,e){var n;if("string"==typeof t||t!==window&&t!==document&&1!==t.nodeType&&!Array.isArray(t)){if(""===t.trim())n="";else if("string"==typeof t){var i=t.trim().substr(0,1);n="#"===i?document.getElementById(t.replace(/#/,"")):e===!0?document.querySelectorAll(t):document.querySelector(t)}}else n=Array.isArray(t)&&0===t.length?"":t;return e&&0===n.length||!n?[].push.apply(this):[].push.apply(this,n.length?n:[n])},n=function(t,n){return new e(t,n)};window.$=n,e.prototype.constructor=e,e.prototype.on=function(e,n,i){var o=this;if(!o||"function"!=typeof n)return!1;if(0===o.length&&o!=o.window)return!1;var s=function(t){var e=t||window.event,o=i.trim().substr(0,1),s=this,r=[];if(e.path)r=e.path;else for(var a=e.target;a!==window;)null===a?(r.push(window),a=window):(r.push(a),a=a.parentNode);if("."===o||"#"===o){if("."===o)for(var l=0,u=r.length;u>l;l+=1){if(r[l]===s)return!1;if(r[l].classList.contains(i.replace(".","")))return n.call(r[l],e),!1}if("#"===o)for(var l=0,u=r.length;u>l;l+=1){if(r[l]===s)return!1;if(r[l].id===i.replace("#",""))return n.call(r[l],e),!1}return!1}for(var l=0,u=r.length;u>l;l+=1){if(r[l]===s)return!1;if(r[l].tagName===i.toLocaleUpperCase())return n.call(r[l],e),!1}return!1};if(i)if(1===o.length){var r=o[0];if(r===window||r===document){if(void 0===t[r.bindcount]){t.index+=1;var a=t.index;r.bindcount=a,t[a]={}}!t[r.bindcount][e]&&(t[r.bindcount][e]=[]),t[r.bindcount][e].push(s);var l=t[r.bindcount][e].length;r.addEventListener(e,t[r.bindcount][e][l-1],!1)}else{if(void 0===t[r.dataset.bindcount]){t.index+=1;var a=t.index;r.dataset.bindcount=a,t[a]={}}!t[r.dataset.bindcount][e]&&(t[r.dataset.bindcount][e]=[]),t[r.dataset.bindcount][e].push(s);var l=t[r.dataset.bindcount][e].length;r.addEventListener(e,t[r.dataset.bindcount][e][l-1],!1)}}else[].forEach.call(o,function(n){if(void 0===t[n.dataset.bindcount]){t.index+=1;var i=t.index;n.dataset.bindcount=i,t[i]={}}!t[n.dataset.bindcount][e]&&(t[n.dataset.bindcount][e]=[]),t[n.dataset.bindcount][e].push(s);var o=t[n.dataset.bindcount][e].length;n.addEventListener(e,t[n.dataset.bindcount][e][o-1],!1)});else if(o.length&&1!==o.length)[].forEach.call(o,function(i){if(void 0===t[i.dataset.bindcount]){t.index+=1;var o=t.index;i.dataset.bindcount=o,t[o]={}}!t[i.dataset.bindcount][e]&&(t[i.dataset.bindcount][e]=[]),t[i.dataset.bindcount][e].push(n);var s=t[i.dataset.bindcount][e].length;i.addEventListener(e,t[i.dataset.bindcount][e][s-1],!1)});else{var r=o[0];if(r===window||r===document){if(void 0===t[r.bindcount]){t.index+=1;var a=t.index;r.bindcount=a,t[a]={}}!t[r.bindcount][e]&&(t[r.bindcount][e]=[]),t[r.bindcount][e].push(n);var l=t[r.bindcount][e].length;r.addEventListener(e,t[r.bindcount][e][l-1],!1)}else{if(void 0===t[r.dataset.bindcount]){t.index+=1;var a=t.index;r.dataset.bindcount=a,t[a]={}}!t[r.dataset.bindcount][e]&&(t[r.dataset.bindcount][e]=[]),t[r.dataset.bindcount][e].push(n);var l=t[r.dataset.bindcount][e].length;r.addEventListener(e,t[r.dataset.bindcount][e][l-1],!1)}}return o},e.prototype.off=function(e){var n=this;if(!n)return!1;if(0===n.length&&n!=n.window)return!1;if(n.length&&n.length>1)[].forEach.call(n,function(n){t[n.dataset.bindcount]&&(t[n.dataset.bindcount][e].length>1?t[n.dataset.bindcount][e].forEach(function(t){n.removeEventListener(e,t)}):n.removeEventListener(e,t[n.dataset.bindcount][e][0]))});else{var i=n[0];i===window||i===document?t[i.bindcount]&&(t[i.bindcount][e].length>1?t[i.bindcount][e].forEach(function(t){i.removeEventListener(e,t)}):i.removeEventListener(e,t[i.bindcount][e][0])):t[i.dataset.bindcount]&&(t[i.dataset.bindcount][e].length>1?t[i.dataset.bindcount][e].forEach(function(t){i.removeEventListener(e,t)}):i.removeEventListener(e,t[i.dataset.bindcount][e][0]))}return n[0]===window||n[0]===document?t[n[0].bindcount][e]=[]:n.length&&n.length>1?[].forEach.call(n,function(n){t[n.dataset.bindcount][e]=[]}):t[n[0].dataset.bindcount][e]=[],n},e.prototype.find=function(t){var n=this,i=[];if(""===t.trim())return n;if(n.length&&n.length>1)[].forEach.call(n,function(e){e.querySelectorAll(t).length>0&&(i=i.concat([].slice.call(e.querySelectorAll(t))))});else{var o=n[0];if("string"==typeof t){var s=t.trim().substr(0,1);"#"===s?i.push(o.getElementById(t.replace(/#/,""))):i=i.concat([].slice.call(o.querySelectorAll(t)))}}return new e(i)},e.prototype.children=function(t){var n=[],i=this[0];return"undefined"!=typeof t&&""!==t.trim()?"."===t.trim().substr(0,1)?[].forEach.call(i.childNodes,function(e){e.classList.contains(t.trim().substr(0,t.length))&&n.push(e)}):[].forEach.call(i.childNodes,function(e){e.tagName.toLocaleLowerCase()===t.toLocaleLowerCase()&&n.push(e)}):n=i.childNodes,new e(n)},e.prototype.siblings=function(t){var n=[],i=this[0],o=i;if("undefined"!=typeof t&&""!==t.trim())if("undefined"!=typeof o.nextElementSibling){for(;o.nextElementSibling;)("."===t.trim().substr(0,1)&&o.nextElementSibling.classList.contains(t.trim().substr(0,t.trim().length))||t.trim().toLocaleUpperCase()===o.nextElementSibling.tagName)&&n.push(o.nextElementSibling),o=o.nextElementSibling;for(o=i;o.previousElementSibling;)("."===t.trim().substr(0,1)&&o.previousElementSibling.classList.contains(t.trim().substr(0,t.trim().length))||t.trim().toLocaleUpperCase()===o.previousElementSibling.tagName)&&n.push(o.previousElementSibling),o=o.previousElementSibling}else{for(;o.nextSibling;)(1===o.nextSibling.nodeType&&"."===t.trim().substr(0,1)&&o.nextSibling.classList.contains(t.trim().substr(0,t.trim().length))||1===o.nextSibling.nodeType&&t.trim().toLocaleUpperCase()===o.nextSibling.tagName)&&n.push(o.nextSibling),o=o.nextSibling;for(o=i;o.previousSibling;)(1===o.previousSibling.nodeType&&"."===t.trim().substr(0,1)&&o.previousSibling.classList.contains(t.trim().substr(0,t.trim().length))||1===o.previousSibling.nodeType&&t.trim().toLocaleUpperCase()===o.previousSibling.tagName)&&n.push(o.previousSibling),o=o.previousSibling}else if("undefined"!=typeof o.nextElementSibling){for(;o.nextElementSibling;)n.push(o.nextElementSibling),o=o.nextElementSibling;for(o=i;o.previousElementSibling;)n.push(o.previousElementSibling),o=o.previousElementSibling}else{for(;o.nextSibling;)1===o.nextSibling.nodeType&&n.push(o.nextSibling),o=o.nextSibling;for(o=i;o.previousSibling;)1===o.previousSibling.nodeType&&n.push(o.previousSibling),o=o.previousSibling}return new e(n)},e.prototype.parent=function(){var t=this[0];return t.length?t:new e(t.parentNode)},e.prototype.parents=function(t){var n=this[0],i=[],o=n.parentNode;if(t){var s=t.substr(0,1);if("."===s||"#"===s){if("."===s)for(;o!==document;)o.classList.contains(t.replace(".",""))&&i.push(o),o=o.parentNode;if("#"===s)for(;o!==document;)o.id===t.replace("#","")&&i.push(o),o=o.parentNode}else for(;o!==document;)o.tagName.toLocaleLowerCase()===t&&i.push(o),o=o.parentNode}else for(;o!==document;)i.push(o),o=o.parentNode;return new e(i)},e.prototype.css=function(t,e){var n=this,i=Object.prototype.toString.call(t).split(" ")[1].replace("]",""),o=function(t){var e=t.indexOf("-"),t=t;return-1!==e?t=t.substr(0,e)+t.replace("-","").substr(e,1).toLocaleUpperCase()+t.substring(e+2,t.length):t};if("undefined"==typeof t||n===window||n===document)return n;if("undefined"==typeof e){if("String"===i)return getComputedStyle(n[0],null)[o(t)]}else"String"===i&&(n.length>1?[].forEach.call(n,function(n){n.style[o(t)]=e}):n[0].style[o(t)]=e);return n},e.prototype.index=function(){var t,e=this[0];return[].forEach.call(e.parentNode.children,function(n,i){e===n&&(t=i)}),void 0===t?-1:t},e.prototype.addClass=function(t){var e=this;return t&&null!==e&&0!==e.length?(e.length>1?[].forEach.call(e,function(e){e.classList.add(t)}):e[0].classList.add(t),e):e},e.prototype.removeClass=function(t){var e=this;return t&&null!==e&&0!==e.length?(e.length>1?[].forEach.call(e,function(e){e.classList.remove(t)}):e[0].classList.remove(t),e):e},e.prototype.html=function(t){return"undefined"==typeof t?this[0].innerHTML:void(this[0].innerHTML=t)},e.prototype.hasClass=function(t){var e=this;return t&&null!==e&&0!==e.length?e[0].classList.contains(t):!1},e.prototype.append=function(t){var e=this;if(1===e[0].nodeType)if(1===t.nodeType)e[0].appendChild(t);else{var n=document.createElement("div"),i=document.createDocumentFragment();n.innerHTML=t;for(var o=0,s=n.children.length;s>o;o+=1){var r=n.children[o].cloneNode(!0);i.appendChild(r)}e[0].appendChild(i)}return e},e.prototype.remove=function(){var t=this[0];t.remove?t.remove():t.parentNode.removeChild(t)},e.prototype.get=function(t){var e=this,t=t||0;return e[t]}}(),xAjax.prototype={init:function(){this.createXMLHttpRequest()},createXMLHttpRequest:function(){var t="",e=this;if(this.data)if("[object Object]"===Object.prototype.toString.call(this.data)){var n=Object.keys(this.data);Object.keys(this.data).length>0&&n.forEach(function(i,o){"[object Array]"===Object.prototype.toString.call(e.data[i])?e.data[i].forEach(function(e,s,r){t+=s+1>=r.length&&n.length<=o+1?i+"="+e:i+"="+e+"&"}):t+=n.length>o+1?i+"="+e.data[i]+"&":i+"="+e.data[i]})}else console.error("data not a Object");if(this.httpRequest=new XMLHttpRequest,!this.httpRequest)return alert("不支持XMLHttpRequert！"),!1;if(this.httpRequest.onreadystatechange=this.readystatechangeFn.bind(this),"post"===this.type.toLocaleLowerCase())this.httpRequest.open(this.type.toLowerCase(),this.url,!0),this.httpRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.httpRequest.send(t);else{var i=t?this.cache?this.url+"?"+t:this.url+"?"+t+"&_="+(new Date).getTime():this.cache?this.url:-1!==this.url.indexOf("?")?this.url+"&_="+(new Date).getTime():this.url+"?_="+(new Date).getTime();this.httpRequest.open(this.type.toLowerCase(),i,!0),this.httpRequest.send()}},readystatechangeFn:function(){this.httpRequest.readyState===XMLHttpRequest.DONE&&(200===this.httpRequest.status?"function"==typeof this.success&&this.success("json"===this.dataType?JSON.parse(this.httpRequest.responseText):this.httpRequest.responseText):"function"==typeof this.fail&&this.fail("json"===this.dataType?JSON.parse(this.httpRequest.responseText):this.httpRequest.responseText))}},lazyLoad.prototype={init:function(){this.loadTop=window.document.documentElement.clientHeight-this.scope,this.createLoadList(),this.loadImg(),this.scroll()},createLoadList:function(){var t=this;t.loadList=Array.prototype.map.call(t.obj,function(t){return t})},loadImg:function(){for(var t=this,e=0;e<t.loadList.length;e+=1)t.loadList[e].getBoundingClientRect().top<t.loadTop&&(t.loadList[e].src=t.loadList[e].dataset.src,t.loadList.splice(e,1),e--)},scroll:function(){var t=this,e=null;window.onscroll=function(){void 0===t.loadList,0===t.loadList.length?window.onscroll=null:(e&&clearTimeout(e),e=setTimeout(function(){t.loadImg()},300))}}};
!function(){function t(t,s,i){for(var r=0,n=s.length;n>r;r++){var a=s[r];e(t,a,i)}}function e(t,e,s){Object.defineProperty(t,e,{get:function(){return this["__"+e]},set:function(t){t!==this["__"+e]&&(this["__"+e]=t,s())}})}var s=function(t,e,s,i,r,n,a,o,l,h,c,m,u,d,_,p){this.elements=window.Float32Array?new Float32Array(16):[];var f=this.elements;f[0]=void 0!==t?t:1,f[4]=e||0,f[8]=s||0,f[12]=i||0,f[1]=r||0,f[5]=void 0!==n?n:1,f[9]=a||0,f[13]=o||0,f[2]=l||0,f[6]=h||0,f[10]=void 0!==c?c:1,f[14]=m||0,f[3]=u||0,f[7]=d||0,f[11]=_||0,f[15]=void 0!==p?p:1};s.DEG_TO_RAD=Math.PI/180,s.prototype={set:function(t,e,s,i,r,n,a,o,l,h,c,m,u,d,_,p){var f=this.elements;return f[0]=t,f[4]=e,f[8]=s,f[12]=i,f[1]=r,f[5]=n,f[9]=a,f[13]=o,f[2]=l,f[6]=h,f[10]=c,f[14]=m,f[3]=u,f[7]=d,f[11]=_,f[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},multiplyMatrices:function(t,e){var s=t.elements,i=this.elements,r=s[0],n=s[4],a=s[8],o=s[12],l=s[1],h=s[5],c=s[9],m=s[13],u=s[2],d=s[6],_=s[10],p=s[14],f=s[3],y=s[7],M=s[11],D=s[15],T=e[0],v=e[1],w=e[2],X=e[3],Y=e[4],A=e[5],Z=e[6],g=e[7],O=e[8],k=e[9],E=e[10],G=e[11],R=e[12],x=e[13],b=e[14],j=e[15];return i[0]=r*T+n*Y+a*O+o*R,i[4]=r*v+n*A+a*k+o*x,i[8]=r*w+n*Z+a*E+o*b,i[12]=r*X+n*g+a*G+o*j,i[1]=l*T+h*Y+c*O+m*R,i[5]=l*v+h*A+c*k+m*x,i[9]=l*w+h*Z+c*E+m*b,i[13]=l*X+h*g+c*G+m*j,i[2]=u*T+d*Y+_*O+p*R,i[6]=u*v+d*A+_*k+p*x,i[10]=u*w+d*Z+_*E+p*b,i[14]=u*X+d*g+_*G+p*j,i[3]=f*T+y*Y+M*O+D*R,i[7]=f*v+y*A+M*k+D*x,i[11]=f*w+y*Z+M*E+D*b,i[15]=f*X+y*g+M*G+D*j,this},_rounded:function(t,e){return e=Math.pow(10,e||15),Math.round(t*e)/e},appendTransform:function(t,e,i,r,n,a,o,l,h,c,m,u,d,_){var p=o*s.DEG_TO_RAD,f=this._rounded(Math.cos(p)),y=this._rounded(Math.sin(p)),M=l*s.DEG_TO_RAD,D=this._rounded(Math.cos(M)),T=this._rounded(Math.sin(M)),v=h*s.DEG_TO_RAD,w=this._rounded(Math.cos(-1*v)),X=this._rounded(Math.sin(-1*v));return this.multiplyMatrices(this,[1,0,0,t,0,f,y,e,0,-y,f,i,0,0,0,1]),this.multiplyMatrices(this,[D,0,T,0,0,1,0,0,-T,0,D,0,0,0,0,1]),this.multiplyMatrices(this,[w*r,X*n,0,0,-X*r,w*n,0,0,0,0,1*a,0,0,0,0,1]),(c||m)&&this.multiplyMatrices(this,[this._rounded(Math.cos(c*s.DEG_TO_RAD)),this._rounded(Math.sin(c*s.DEG_TO_RAD)),0,0,-1*this._rounded(Math.sin(m*s.DEG_TO_RAD)),this._rounded(Math.cos(m*s.DEG_TO_RAD)),0,0,0,0,1,0,0,0,0,1]),(u||d||_)&&(this.elements[12]-=u*this.elements[0]+d*this.elements[4]+_*this.elements[8],this.elements[13]-=u*this.elements[1]+d*this.elements[5]+_*this.elements[9],this.elements[14]-=u*this.elements[2]+d*this.elements[6]+_*this.elements[10]),this}},window.Transform=function(e){t(e,["translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ"],function(){var t=e.matrix3D.identity().appendTransform(e.translateX,e.translateY,e.translateZ,e.scaleX,e.scaleY,e.scaleZ,e.rotateX,e.rotateY,e.rotateZ,e.skewX,e.skewY,e.originX,e.originY,e.originZ);e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform="perspective("+e.perspective+"px) matrix3d("+Array.prototype.slice.call(t.elements).join(",")+")"}),t(e,["perspective"],function(){e.style.transform=e.style.msTransform=e.style.OTransform=e.style.MozTransform=e.style.webkitTransform="perspective("+e.perspective+"px) matrix3d("+Array.prototype.slice.call(e.matrix3D.elements).join(",")+")"}),e.matrix3D=new s,e.perspective=500,e.scaleX=e.scaleY=e.scaleZ=1,e.translateX=e.translateY=e.translateZ=e.rotateX=e.rotateY=e.rotateZ=e.skewX=e.skewY=e.originX=e.originY=e.originZ=0}}();
!function(){function t(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function i(t,i){return t.x*i.x+t.y*i.y}function e(e,s){var h=t(e)*t(s);if(0===h)return 0;var n=i(e,s)/h;return n>1&&(n=1),Math.acos(n)}function s(t,i){return t.x*i.y-i.x*t.y}function h(t,i){var h=e(t,i);return s(t,i)>0&&(h*=-1),180*h/Math.PI}function n(t,i){var e=new o(t);return e.add(i),e}var o=function(t){this.handlers=[],this.el=t};o.prototype.add=function(t){this.handlers.push(t)},o.prototype.del=function(t){t||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===t&&this.handlers.splice(i,1)},o.prototype.dispatch=function(){for(var t=0,i=this.handlers.length;i>t;t++){var e=this.handlers[t];"function"==typeof e&&e.apply(this.el,arguments)}};var a=function(t,i){this.element="string"==typeof t?document.querySelector(t):t,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var e=function(){};this.rotate=n(this.element,i.rotate||e),this.touchStart=n(this.element,i.touchStart||e),this.multipointStart=n(this.element,i.multipointStart||e),this.multipointEnd=n(this.element,i.multipointEnd||e),this.pinch=n(this.element,i.pinch||e),this.swipe=n(this.element,i.swipe||e),this.tap=n(this.element,i.tap||e),this.doubleTap=n(this.element,i.doubleTap||e),this.longTap=n(this.element,i.longTap||e),this.singleTap=n(this.element,i.singleTap||e),this.pressMove=n(this.element,i.pressMove||e),this.touchMove=n(this.element,i.touchMove||e),this.touchEnd=n(this.element,i.touchEnd||e),this.touchCancel=n(this.element,i.touchCancel||e),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};a.prototype={start:function(i){if(i.touches){this.now=Date.now(),this.x1=i.touches[0].pageX,this.y1=i.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(i),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var e=this.preV,s=i.touches.length;if(s>1){this._cancelLongTap(),this._cancelSingleTap();var h={x:i.touches[1].pageX-this.x1,y:i.touches[1].pageY-this.y1};e.x=h.x,e.y=h.y,this.pinchStartLen=t(e),this.multipointStart.dispatch(i)}this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(i)}.bind(this),750)}},move:function(i){if(i.touches){var e=this.preV,s=i.touches.length,n=i.touches[0].pageX,o=i.touches[0].pageY;if(this.isDoubleTap=!1,s>1){var a={x:i.touches[1].pageX-n,y:i.touches[1].pageY-o};null!==e.x&&(this.pinchStartLen>0&&(i.zoom=t(a)/this.pinchStartLen,this.pinch.dispatch(i)),i.angle=h(a,e),this.rotate.dispatch(i)),e.x=a.x,e.y=a.y}else null!==this.x2?(i.deltaX=n-this.x2,i.deltaY=o-this.y2):(i.deltaX=0,i.deltaY=0),this.pressMove.dispatch(i);this.touchMove.dispatch(i),this._cancelLongTap(),this.x2=n,this.y2=o,s>1&&i.preventDefault()}},end:function(t){if(t.changedTouches){this._cancelLongTap();var i=this;t.touches.length<2&&this.multipointEnd.dispatch(t),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(t.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){i.swipe.dispatch(t)},0)):(this.tapTimeout=setTimeout(function(){i.tap.dispatch(t),i.isDoubleTap&&(i.doubleTap.dispatch(t),clearTimeout(i.singleTapTimeout),i.isDoubleTap=!1)},0),i.isDoubleTap||(i.singleTapTimeout=setTimeout(function(){i.singleTap.dispatch(t)},250))),this.touchEnd.dispatch(t),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancel:function(t){clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout),this.touchCancel.dispatch(t)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(t,i,e,s){return Math.abs(t-i)>=Math.abs(e-s)?t-i>0?"Left":"Right":e-s>0?"Up":"Down"},on:function(t,i){this[t]&&this[t].add(i)},off:function(t,i){this[t]&&this[t].del(i)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=null,null}},"undefined"!=typeof module&&"object"==typeof exports?module.exports=a:window.AlloyFinger=a}();
function addTimer(){var e=document.createElement("i"),t=Math.random(),n=100*(t>.9?.8:t);switch(e.style.left=n+"%",t.toFixed(1)){case"0.2":e.className="bao test type1";break;case"0.4":e.className="bao test type2";break;case"0.6":e.className="bao test type3";break;case"0.8":e.className="bao test type4";break;case"0.9":e.className="bao test type5";break;default:e.className="bao test"}window.requestAnimationFrame?window.requestAnimationFrame(function(){$("body").append(e)}):$("body").append(e),clearAddTimer||setTimeout(function(){addTimer()},200)}function check(){[].forEach.call($(".test",!0),function(e){if(e.getBoundingClientRect().top+60>pressMoveImg.getBoundingClientRect().top&&e.getBoundingClientRect().top-pressMoveImg.getBoundingClientRect().top+60<100&&e.getBoundingClientRect().left-pressMoveImg.getBoundingClientRect().left+30>0&&e.getBoundingClientRect().left-pressMoveImg.getBoundingClientRect().left+30<100){t&&(t=!1,setTimeout(function(){clearAddTimer=!0,openGift()},5e3));var n=e.getBoundingClientRect().top+"px",o=e.getBoundingClientRect().left+"px";$(e).removeClass("test"),e.style.top=n,e.style.left=o,$(e).addClass("boom")}})}function openGift(){$(".open").find("img").get(0).src=giftDetail.imgUrl,$(".open").removeClass("dn")}function checkTimer(){check(),setTimeout(function(){checkTimer()},100)}function onMatchMeidaChange(e){e.matches?$(".tips").addClass("dn"):$(".tips").removeClass("dn")}var clearAddTimer=!1,mainUrl="https://gift.d.cn/cj",t=!0,pressMoveImg=document.querySelector(".bear");Transform(pressMoveImg),new AlloyFinger(pressMoveImg,{pressMove:function(e){pressMoveImg.translateX+=e.deltaX,pressMoveImg.translateY+=e.deltaY,$(pressMoveImg).removeClass("bear-move"),$(".bear-tips").addClass("dn"),e.preventDefault()}}),$(window).on("touchmove",function(e){e.preventDefault()}),new xAjax({url:mainUrl+"/specialLottery/lottery.json?type=3",type:"get",dataType:"json",success:function(e){2e3===e.code&&e.data.totalCount<=0&&($(".my-gift-box").removeClass("dn"),$(".play-box").addClass("dn"))}}),$(".play-js").on("click",function(){new xAjax({url:mainUrl+"/specialLottery/lottery.do?type=3",type:"get",dataType:"json",success:function(e){2001===e.code?"undefined"==typeof window.AndroidClient?window.location.href=e.data:window.AndroidClient.doLogin():2e3===e.code?($(".play-box").addClass("dn"),addTimer(),checkTimer(),giftDetail=e.data.flipLotteryThings[0]):($(".error-tips").find("p").html(e.error),$(".error-tips").removeClass("dn"))}})}),$(".close-js",!0).on("click",function(){$(this).parents(".out").addClass("dn"),$(this).hasClass("close-gift")&&$(".my-gift-box ").removeClass("dn")}),$(".list").on("click",function(){new xAjax({url:mainUrl+"/specialLottery/listThings.json?type=3",type:"get",dataType:"json",success:function(e){if(2e3===e.code){var t=[];e.data.forEach(function(e,n){t.push("<li>"+(n+1)+"."+e.thingName+"</li>")}),$(".show-list").find("ul").html(t.join("")),$(".show-list").removeClass("dn")}}})}),$(".rule").on("click",function(){$(".rule-box").removeClass("dn")}),$(".my-gift-js").on("click",function(){new xAjax({url:mainUrl+"/specialLottery/winRecords.json?type=3",type:"get",dataType:"json",success:function(e){2e3===e.code?($(".my-gift").find("img").get(0).src=e.data[0].imgUrl,$(".my-gift-box").addClass("dn"),$(".my-gift").removeClass("dn")):2001===e.code&&("undefined"==typeof window.AndroidClient?window.location.href=e.data:window.AndroidClient.doLogin())}})}),-1!==window.location.search.indexOf("_f=sdk")&&$(".tips").html('<img src="https://raw.d.cn/scoremall/wap/2018/specialLottery/type3/img/sdk.png" />');var mql=window.matchMedia("(orientation: portrait)");onMatchMeidaChange(mql),mql.addListener(onMatchMeidaChange);
